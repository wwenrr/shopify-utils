---
alwaysApply: false
---

# Research Plate.js - Th∆∞ vi·ªán Rich Text Editor cho React

D·ª±a tr√™n file b·∫°n ƒë√≠nh k√®m v√† research chi ti·∫øt, ƒë√¢y l√† t·ªïng h·ª£p v·ªÅ Plate.js v√† c√°ch chuy·ªÉn ƒë·ªïi Slate content sang HTML:

## üìã T·ªïng quan v·ªÅ Plate.js

**Plate.js** l√† m·ªôt framework rich-text editor m·∫°nh m·∫Ω cho React, ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n n·ªÅn t·∫£ng Slate.js v·ªõi TypeScript.[1][2]

### ƒê·∫∑c ƒëi·ªÉm n·ªïi b·∫≠t:

- **Ki·∫øn tr√∫c m·ªü v√† linh ho·∫°t**: Plugin-based architecture cho ph√©p t√πy bi·∫øn cao
- **Headless components**: Kh√¥ng c√≥ style m·∫∑c ƒë·ªãnh, b·∫°n t·ª± styling theo √Ω mu·ªën
- **Built-in v·ªõi shadcn/ui**: T√≠ch h·ª£p t·ªët v·ªõi h·ªá th·ªëng design shadcn/ui v√† Radix UI
- **SSR support**: H·ªó tr·ª£ server-side rendering v√† React Server Components
- **AI-ready**: Thi·∫øt k·∫ø th√¢n thi·ªán v·ªõi AI tools v√† MCP (Model Context Protocol)

### So s√°nh v·ªõi c√°c editor kh√°c:

| T√≠nh nƒÉng | Plate.js (Free & OSS) | Tiptap |
|-----------|----------------------|---------|
| AI | ‚úÖ | Paid Extension |
| Comments | ‚úÖ | Paid Extension |
| Suggestions | ‚úÖ | Paid |
| Emoji Picker | ‚úÖ | Paid Extension |
| Table of Contents | ‚úÖ | Paid Extension |
| Drag Handle | ‚úÖ | Paid Extension |
| Collaboration (Yjs) | ‚úÖ | Hocuspocus (OSS/Paid) |

## üîß C√†i ƒë·∫∑t

### C√†i ƒë·∫∑t c∆° b·∫£n:

```bash
npm install platejs @platejs/basic-nodes
```

### C√†i ƒë·∫∑t ƒë·∫ßy ƒë·ªß v·ªõi c√°c dependencies c·∫ßn thi·∫øt:

```bash
npm install platejs slate slate-react slate-history slate-hyperscript react react-dom
```

### C√†i ƒë·∫∑t v·ªõi BaseEditorKit (recommended):

```bash
npm install @platejs/basic-nodes @platejs/code-block @platejs/table @platejs/media
```

## üéØ Slate to HTML - Ch·ª©c nƒÉng ch√≠nh

### 1. **Server-Side HTML Serialization** (Slate ‚Üí HTML)

ƒê√¢y l√† ch·ª©c nƒÉng chuy·ªÉn ƒë·ªïi n·ªôi dung Plate editor (Slate nodes) th√†nh HTML string, th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng ·ªü server-side.

#### C√∫ ph√°p c∆° b·∫£n:

```typescript
import { createSlateEditor, serializeHtml } from 'platejs';
import { BaseEditorKit } from '@/components/editor/editor-base-kit';

const editor = createSlateEditor({
  plugins: BaseEditorKit,
  value: [
    { type: 'h1', children: [{ text: 'Hello World' }] },
    { type: 'p', children: [{ text: 'This content will be serialized to HTML.' }] },
  ],
});

// Serialize to HTML
const html = await serializeHtml(editor);
```

#### V√≠ d·ª• chi ti·∫øt t·ª´ file b·∫°n g·ª≠i:

```typescript
import * as React from 'react';
import fs from 'node:fs/promises';
import path from 'node:path';
import {
  type Value,
  createStaticEditor,
  normalizeNodeId,
  serializeHtml,
} from 'platejs';
import { BaseEditorKit } from '@/components/editor/editor-base-kit';
import { EditorStatic } from '@/components/ui/editor-static';

export default async function SlateToHtmlBlock() {
  const createValue = (): Value =>
    normalizeNodeId([
      ...basicBlocksValue,
      ...basicMarksValue,
      ...linkValue,
      ...tableValue,
      // ... c√°c values kh√°c
    ]);

  const editor = createStaticEditor({
    plugins: BaseEditorKit,
    value: createValue(),
  });

  const tailwindCss = await getCachedTailwindCss();
  const katexCDN = `<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/[email protected]/dist/katex.css" ... >`;

  // Serialize editor content to HTML
  const editorHtml = await serializeHtml(editor, {
    editorComponent: EditorStatic,
    props: { style: { padding: '0 calc(50% - 350px)', paddingBottom: '' } },
  });

  // Create full HTML document
  const html = createHtmlDocument({
    editorHtml,
    katexCDN,
    tailwindCss,
    theme: 'light',
  });

  return (
    <div className="grid grid-cols-3 px-4">
      {/* Editor, EditorView, HTML Iframe */}
    </div>
  );
}
```

### 2. **API `serializeHtml()`**

```typescript
serializeHtml(editor, options)
```

**Parameters:**
- `editor`: Server-side Plate editor instance (t·∫°o b·∫±ng `createSlateEditor`)
- `options`: Object ch·ª©a config

**Options:**
- `editorComponent`: Component wrapper cho editor (m·∫∑c ƒë·ªãnh l√† `PlateStatic`)
- `props`: Props truy·ªÅn v√†o `editorComponent`
- `value`: Plate nodes c·∫ßn serialize (m·∫∑c ƒë·ªãnh d√πng `editor.children`)
- `stripClassNames`: X√≥a class names (m·∫∑c ƒë·ªãnh `true`)
- `preserveClassNames`: Array c√°c class prefix ƒë∆∞·ª£c gi·ªØ l·∫°i
- `stripDataAttributes`: X√≥a `data-*` attributes (m·∫∑c ƒë·ªãnh `true`)

**Returns:** Promise resolving th√†nh HTML string

### 3. **Static Components cho Server-Side**

‚ö†Ô∏è **Quan tr·ªçng**: Khi d√πng server-side serialization, ph·∫£i s·ª≠ d·ª•ng static components (kh√¥ng c√≥ React hooks, kh√¥ng c√≥ browser APIs).

```typescript
import React from 'react';
import type { SlateElementProps } from 'platejs';

// Example static paragraph component
export function ParagraphElementStatic(props: SlateElementProps) {
  return (
    <SlateElement {...props} className={cn('m-0 px-0 py-1')}>
      {props.children}
    </SlateElement>
  );
}
```

### 4. **HTML to Slate** (HTML ‚Üí Slate nodes)

Ch·ª©c nƒÉng deserialize HTML string ho·∫∑c DOM elements v·ªÅ Plate format.

```typescript
import { usePlateEditor } from 'platejs/react';
import { HeadingPlugin } from '@platejs/basic-nodes/react';

function MyHtmlImporter({ htmlString }: { htmlString: string }) {
  const editor = usePlateEditor({
    plugins: [
      HeadingPlugin,
      // ... c√°c plugins kh√°c
    ],
  });

  const handleImport = () => {
    const slateValue = editor.api.html.deserialize(htmlString);
    editor.tf.setValue(slateValue);
  };

  return <button onClick={handleImport}>Import HTML</button>;
}
```

### 5. **Plugin Deserialization Rules**

M·ªói plugin c√≥ th·ªÉ ƒë·ªãnh nghƒ©a rules ƒë·ªÉ x·ª≠ l√Ω HTML tags c·ª• th·ªÉ:

| HTML Element | Plate Plugin | K·∫øt qu·∫£ |
|--------------|-------------|---------|
| `<strong>`, `<b>` | `BoldPlugin` | `bold: true` mark |
| `<em>`, `<i>` | `ItalicPlugin` | `italic: true` mark |
| `<u>` | `UnderlinePlugin` | `underline: true` mark |
| `<h1>` - `<h6>` | `HeadingPlugin` | heading elements |
| `<ul>`, `<ol>` | `ListPlugin` | list elements |
| `<table>` | `TablePlugin` | table element |
| `<a>` | `LinkPlugin` | link element v·ªõi `url` |
| `<img>` | `ImagePlugin` | image element |

## üé® BaseEditorKit

BaseEditorKit l√† t·∫≠p h·ª£p c√°c plugins c∆° b·∫£n ƒë∆∞·ª£c pre-configured:

```typescript
export const BaseEditorKit = [
  ...BaseBasicBlocksKit,      // h1-h6, p, blockquote, hr
  ...BaseCodeBlockKit,         // code blocks
  ...BaseTableKit,             // tables
  ...BaseMediaKit,             // images, videos
  ...BaseLinkKit,              // links
  ...BaseBasicMarksKit,        // bold, italic, underline, etc.
  ...BaseFontKit,              // font family, size, color
  ...BaseListKit,              // ul, ol
  ...BaseAlignKit,             // text align
  ...MarkdownKit,              // markdown support
  // ... v√† nhi·ªÅu kit kh√°c
];
```

## üîë Key Concepts

### 1. **Server-Side vs Client-Side**

**Server-Side (Node.js, RSC):**
- Import t·ª´ base paths: `platejs`, `@platejs/basic-nodes`
- S·ª≠ d·ª•ng `createSlateEditor()` ho·∫∑c `createStaticEditor()`
- **KH√îNG** import t·ª´ `/react` subpaths

**Client-Side:**
- Import t·ª´ `/react` paths: `platejs/react`, `@platejs/basic-nodes/react`
- S·ª≠ d·ª•ng `usePlateEditor()` ho·∫∑c `createPlateEditor()`

### 2. **PlateStatic vs PlateView vs Plate**

- **PlateStatic**: Server-side rendering, kh√¥ng c√≥ interactivity
- **PlateView**: Client-side, read-only editor v·ªõi interactivity
- **Plate + readOnly**: Full editor v·ªõi readOnly mode

### 3. **Styling Serialized HTML**

`serializeHtml()` ch·ªâ tr·∫£ v·ªÅ HTML content, kh√¥ng c√≥ styles. B·∫°n c·∫ßn wrap HTML trong document ho√†n ch·ªânh v·ªõi CSS:

```typescript
const fullHtml = `<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/path/to/tailwind.css" />
  <title>Serialized Content</title>
</head>
<body>
  <div class="prose dark:prose-invert">
    ${editorHtmlContent}
  </div>
</body>
</html>`;
```

## üí° Use Cases ph·ªï bi·∫øn

1. **Blog/CMS**: L∆∞u content d∆∞·ªõi d·∫°ng Slate JSON, render HTML cho readers
2. **Email templates**: Convert editor content sang HTML ƒë·ªÉ g·ª≠i email
3. **Export to PDF**: Serialize HTML r·ªìi convert sang PDF
4. **Server-side preview**: Render preview c·ªßa content m√† kh√¥ng c·∫ßn client-side editor
5. **Content migration**: Import/export content t·ª´ c√°c format kh√°c

## üéØ Best Practices

1. **Lu√¥n d√πng BaseEditorKit** cho serialization ƒë·ªÉ c√≥ ƒë·∫ßy ƒë·ªß plugin support
2. **T·∫°o static components ri√™ng** cho server-side rendering
3. **Cache CSS files** khi t·∫°o full HTML documents (nh∆∞ trong example)
4. **Normalize node IDs** tr∆∞·ªõc khi serialize: `normalizeNodeId(value)`
5. **Include external dependencies** (nh∆∞ KaTeX cho math equations) trong final HTML

## üìö Resources

- **Documentation**: https://platejs.org/docs
- **GitHub**: https://github.com/udecode/plate (15.5k stars)[3]
- **Discord Community**: Join ƒë·ªÉ ƒë∆∞·ª£c support
- **Examples**: https://platejs.org/docs/examples/slate-to-html

Plate.js l√† m·ªôt gi·∫£i ph√°p r·∫•t m·∫°nh m·∫Ω v√† linh ho·∫°t cho rich text editing trong React ecosystem. V·ªõi kh·∫£ nƒÉng serialize/deserialize HTML t·ªët, n√≥ ph√π h·ª£p cho nhi·ªÅu use cases t·ª´ CMS, blog platforms ƒë·∫øn collaborative editing tools.

[1](https://platejs.org/docs/examples/slate-to-html)
[2](https://platejs.org/docs)
[3](https://github.com/udecode/plate)
[4](https://slashdot.org/software/comparison/Plate-JS-vs-Slate.js/)
[5](https://platejs.org/docs/feature-kits)
[6](https://www.npmjs.com/package/@slate-serializers/html)
[7](https://sourceforge.net/software/compare/Editor.js-vs-Plate-JS/)
[8](https://www.reddit.com/r/reactjs/comments/1hbiaoc/platejs_vs_tiptap/)
[9](https://stackoverflow.com/questions/77549872/platejs-serializing-html)
[10](https://liveblocks.io/blog/which-rich-text-editor-framework-should-you-choose-in-2025)
[11](https://platejs.org/docs/installation/docs)
[12](https://platejs.org/docs/html)
[13](https://tiptap.dev/alternatives/plate-vs-tiptap)
[14](https://docs.slatejs.org)
[15](https://payloadcms.com/community-help/discord/html-to-richtext-slatejs)
[16](https://discuss.prosemirror.net/t/do-you-know-platejs-what-do-you-think-about/6170)
[17](https://docs.slatejs.org/concepts/10-serializing)
[18](https://github.com/udecode/plate/discussions/2523)
[19](https://platejs.org)
[20](https://github.com/udecode/plate/discussions/433)
[21](https://libraries.io/npm/@platejs%2Fcore)
[22](https://next.platejs.org/docs/plugin)
[23](https://platejs.org/docs/static)
[24](https://next.platejs.org/docs/getting-started)
[25](https://pro.platejs.org/docs/installation)
[26](https://www.npmjs.com/package/@udecode/plate-basic-nodes)
[27](https://platejs.org/docs/examples/server-side)
[28](https://platejs.org/docs/installation)
[29](https://github.com/udecode/plate/discussions/4380)
[30](https://shadcnregistry.com/plate/static-docs)
[31](https://www.npmjs.com/package/platejs?activeTab=readme)
[32](https://codesandbox.io/examples/package/@udecode/plate-node-id)
[33](https://stackoverflow.com/questions/78060138/how-to-create-a-new-plugin-a-tool-for-plate-rich-text-editor)
[34](https://www.npmjs.com/package/platejs?activeTab=code)
[35](https://pro.platejs.org/docs/examples/basic-nodes)
[36](https://github.com/udecode/plate/discussions/1847)
[37](https://www.npmjs.com/package/platejs)
[38](https://www.npmjs.com/package/@platejs/basic-nodes)